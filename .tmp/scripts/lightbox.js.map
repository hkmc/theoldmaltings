{"version":3,"sources":["lightbox.js"],"names":[],"mappings":";;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,CAAC,YAAW;AACV,MAAI,CAAJ,EAAO,QAAP,EAAiB,eAAjB;;AAEA,MAAI,MAAJ;;AAEA,oBAAmB,YAAW;;AAE5B,aAAS,eAAT,GAA2B;AACzB,WAAK,gBAAL,GAAwB,6BAAxB;AACA,WAAK,cAAL,GAAsB,2BAAtB;AACA,WAAK,cAAL,GAAsB,GAAtB;AACA,WAAK,YAAL,GAAoB,GAApB;AACA,WAAK,UAAL,GAAkB,OAAlB;AACA,WAAK,OAAL,GAAe,IAAf;AACD;;AAED,WAAO,eAAP;AAED,GAbiB,EAAlB;;AAeA,aAAY,YAAW;;AAErB,aAAS,QAAT,CAAkB,OAAlB,EAA2B;AACzB,WAAK,OAAL,GAAe,OAAf;AACA,WAAK,KAAL,GAAa,EAAb;AACA,WAAK,iBAAL,GAAyB,KAAK,CAA9B;AACA,WAAK,IAAL;AACD;;AAED,aAAS,SAAT,CAAmB,IAAnB,GAA0B,YAAW;AACnC,WAAK,MAAL;AACA,aAAO,KAAK,KAAL,EAAP;AACD,KAHD;;AAKA,aAAS,SAAT,CAAmB,MAAnB,GAA4B,YAAW;AACrC,UAAI,QAAQ,IAAZ;AACA,aAAO,EAAE,MAAF,EAAU,EAAV,CAAa,OAAb,EAAsB,uCAAtB,EAA+D,UAAS,CAAT,EAAY;AAChF,cAAM,KAAN,CAAY,EAAE,EAAE,aAAJ,CAAZ;AACA,eAAO,KAAP;AACD,OAHM,CAAP;AAID,KAND;;AAQA,aAAS,SAAT,CAAmB,KAAnB,GAA2B,YAAW;AACpC,UAAI,SAAJ;AAAA,UACE,QAAQ,IADV;AAEA,QAAE,OAAF,EAAW;AACT,YAAI;AADK,OAAX,EAEG,KAFH,CAES,EAAE,QAAF,EAAY;AACnB,YAAI;AADe,OAAZ,EAEN,MAFM,CAEC,EAAE,QAAF,EAAY;AACpB,iBAAS;AADW,OAAZ,EAEP,MAFO,CAEA,EAAE,QAAF,EAAY;AACpB,iBAAS;AADW,OAAZ,EAEP,MAFO,CAEA,EAAE,QAAF,EAAY;AACpB,iBAAS;AADW,OAAZ,CAFA,EAIN,EAAE,QAAF,EAAY;AACd,iBAAS;AADK,OAAZ,EAED,MAFC,CAEM,EAAE,MAAF,EAAU;AAClB,iBAAS;AADS,OAAV,CAFN,EAIA,EAAE,MAAF,EAAU;AACZ,iBAAS;AADG,OAAV,CAJA,CAJM,EAUL,EAAE,QAAF,EAAY;AACf,iBAAS;AADM,OAAZ,EAEF,MAFE,CAEK,EAAE,MAAF,EAAU;AAClB,iBAAS;AADS,OAAV,EAEP,MAFO,CAEA,EAAE,QAAF,EAAY;AACpB,aAAK,KAAK,OAAL,CAAa;AADE,OAAZ,CAFA,CAFL,CAVK,CAFA,CAFD,EAoBD,EAAE,QAAF,EAAY;AAClB,iBAAS;AADS,OAAZ,EAEL,MAFK,CAEE,EAAE,QAAF,EAAY;AACpB,iBAAS;AADW,OAAZ,EAEP,MAFO,CAEA,EAAE,QAAF,EAAY;AACpB,iBAAS;AADW,OAAZ,EAEP,MAFO,CAEA,EAAE,SAAF,EAAa;AACrB,iBAAS;AADY,OAAb,CAFA,EAIN,EAAE,SAAF,EAAa;AACf,iBAAS;AADM,OAAb,CAJM,CAFA,EAQL,EAAE,QAAF,EAAY;AACf,iBAAS;AADM,OAAZ,EAEF,MAFE,CAEK,EAAE,MAAF,EAAU;AAClB,iBAAS;AADS,OAAV,EAEP,MAFO,CAEA,EAAE,QAAF,EAAY;AACpB,aAAK,KAAK,OAAL,CAAa;AADE,OAAZ,CAFA,CAFL,CARK,CAFF,CApBC,CAFT,EAsCS,QAtCT,CAsCkB,EAAE,MAAF,CAtClB;AAuCA,QAAE,kBAAF,EAAsB,IAAtB,GAA6B,EAA7B,CAAgC,OAAhC,EAAyC,UAAS,CAAT,EAAY;AACnD,cAAM,GAAN;AACA,eAAO,KAAP;AACD,OAHD;AAIA,kBAAY,EAAE,WAAF,CAAZ;AACA,gBAAU,IAAV,GAAiB,EAAjB,CAAoB,OAApB,EAA6B,UAAS,CAAT,EAAY;AACvC,YAAI,EAAE,EAAE,MAAJ,EAAY,IAAZ,CAAiB,IAAjB,MAA2B,UAA/B,EAA2C,MAAM,GAAN;AAC3C,eAAO,KAAP;AACD,OAHD;AAIA,gBAAU,IAAV,CAAe,oBAAf,EAAqC,EAArC,CAAwC,OAAxC,EAAiD,UAAS,CAAT,EAAY;AAC3D,YAAI,EAAE,EAAE,MAAJ,EAAY,IAAZ,CAAiB,IAAjB,MAA2B,UAA/B,EAA2C,MAAM,GAAN;AAC3C,eAAO,KAAP;AACD,OAHD;AAIA,gBAAU,IAAV,CAAe,UAAf,EAA2B,EAA3B,CAA8B,OAA9B,EAAuC,UAAS,CAAT,EAAY;AACjD,cAAM,WAAN,CAAkB,MAAM,iBAAN,GAA0B,CAA5C;AACA,eAAO,KAAP;AACD,OAHD;AAIA,gBAAU,IAAV,CAAe,UAAf,EAA2B,EAA3B,CAA8B,OAA9B,EAAuC,UAAS,CAAT,EAAY;AACjD,cAAM,WAAN,CAAkB,MAAM,iBAAN,GAA0B,CAA5C;AACA,eAAO,KAAP;AACD,OAHD;AAIA,gBAAU,IAAV,CAAe,uBAAf,EAAwC,EAAxC,CAA2C,OAA3C,EAAoD,UAAS,CAAT,EAAY;AAC9D,cAAM,GAAN;AACA,eAAO,KAAP;AACD,OAHD;AAID,KAnED;;AAqEA,aAAS,SAAT,CAAmB,KAAnB,GAA2B,UAAS,KAAT,EAAgB;AACzC,UAAI,SAAJ,EAAe,OAAf,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,WAA9B,EAA2C,IAA3C,EAAiD,GAAjD,EAAsD,IAAtD,EAA4D,IAA5D;AACA,QAAE,MAAF,EAAU,EAAV,CAAa,QAAb,EAAuB,KAAK,WAA5B;AACA,QAAE,uBAAF,EAA2B,GAA3B,CAA+B;AAC7B,oBAAY;AADiB,OAA/B;AAGA,QAAE,kBAAF,EAAsB,KAAtB,CAA4B,EAAE,QAAF,EAAY,KAAZ,EAA5B,EAAiD,MAAjD,CAAwD,EAAE,QAAF,EAAY,MAAZ,EAAxD,EAA8E,MAA9E,CAAqF,KAAK,OAAL,CAAa,YAAlG;AACA,WAAK,KAAL,GAAa,EAAb;AACA,oBAAc,CAAd;AACA,UAAI,MAAM,IAAN,CAAW,KAAX,MAAsB,UAA1B,EAAsC;AACpC,aAAK,KAAL,CAAW,IAAX,CAAgB;AACd,gBAAM,MAAM,IAAN,CAAW,MAAX,CADQ;AAEd,iBAAO,MAAM,IAAN,CAAW,OAAX;AAFO,SAAhB;AAID,OALD,MAKO;AACL,eAAO,EAAE,MAAM,IAAN,CAAW,SAAX,IAAwB,QAAxB,GAAmC,MAAM,IAAN,CAAW,KAAX,CAAnC,GAAuD,IAAzD,CAAP;AACA,aAAK,IAAI,CAAJ,EAAO,OAAO,KAAK,MAAxB,EAAgC,IAAI,IAApC,EAA0C,GAA1C,EAA+C;AAC7C,cAAI,KAAK,CAAL,CAAJ;AACA,eAAK,KAAL,CAAW,IAAX,CAAgB;AACd,kBAAM,EAAE,CAAF,EAAK,IAAL,CAAU,MAAV,CADQ;AAEd,mBAAO,EAAE,CAAF,EAAK,IAAL,CAAU,OAAV;AAFO,WAAhB;AAIA,cAAI,EAAE,CAAF,EAAK,IAAL,CAAU,MAAV,MAAsB,MAAM,IAAN,CAAW,MAAX,CAA1B,EAA8C,cAAc,CAAd;AAC/C;AACF;AACD,gBAAU,EAAE,MAAF,CAAV;AACA,YAAM,QAAQ,SAAR,KAAsB,QAAQ,MAAR,KAAmB,EAA/C;AACA,aAAO,QAAQ,UAAR,EAAP;AACA,kBAAY,EAAE,WAAF,CAAZ;AACA,gBAAU,GAAV,CAAc;AACZ,aAAK,MAAM,IADC;AAEZ,cAAM,OAAO;AAFD,OAAd,EAGG,MAHH,CAGU,KAAK,OAAL,CAAa,YAHvB;AAIA,WAAK,WAAL,CAAiB,WAAjB;AACD,KAlCD;;AAoCA,aAAS,SAAT,CAAmB,WAAnB,GAAiC,UAAS,WAAT,EAAsB;AACrD,UAAI,MAAJ;AAAA,UAAY,SAAZ;AAAA,UAAuB,SAAvB;AAAA,UACE,QAAQ,IADV;AAEA,WAAK,kBAAL;AACA,kBAAY,EAAE,WAAF,CAAZ;AACA,eAAS,UAAU,IAAV,CAAe,WAAf,CAAT;AACA,WAAK,WAAL;AACA,QAAE,kBAAF,EAAsB,MAAtB,CAA6B,KAAK,OAAL,CAAa,YAA1C;AACA,QAAE,SAAF,EAAa,MAAb,CAAoB,MAApB;AACA,gBAAU,IAAV,CAAe,qFAAf,EAAsG,IAAtG;AACA,gBAAU,IAAV,CAAe,oBAAf,EAAqC,QAArC,CAA8C,WAA9C;AACA,kBAAY,IAAI,KAAJ,EAAZ;AACA,gBAAU,MAAV,GAAmB,YAAW;AAC5B,eAAO,IAAP,CAAY,KAAZ,EAAmB,MAAM,KAAN,CAAY,WAAZ,EAAyB,IAA5C;AACA,eAAO,KAAP,GAAe,UAAU,KAAzB;AACA,eAAO,MAAP,GAAgB,UAAU,MAA1B;AACA,eAAO,MAAM,aAAN,CAAoB,UAAU,KAA9B,EAAqC,UAAU,MAA/C,CAAP;AACD,OALD;AAMA,gBAAU,GAAV,GAAgB,KAAK,KAAL,CAAW,WAAX,EAAwB,IAAxC;AACA,WAAK,iBAAL,GAAyB,WAAzB;AACD,KApBD;;AAsBA,aAAS,SAAT,CAAmB,WAAnB,GAAiC,YAAW;AAC1C,aAAO,EAAE,kBAAF,EAAsB,KAAtB,CAA4B,EAAE,QAAF,EAAY,KAAZ,EAA5B,EAAiD,MAAjD,CAAwD,EAAE,QAAF,EAAY,MAAZ,EAAxD,CAAP;AACD,KAFD;;AAIA,aAAS,SAAT,CAAmB,aAAnB,GAAmC,UAAS,UAAT,EAAqB,WAArB,EAAkC;AACnE,UAAI,UAAJ;AAAA,UAAgB,SAAhB;AAAA,UAA2B,eAA3B;AAAA,UAA4C,sBAA5C;AAAA,UAAoE,oBAApE;AAAA,UAA0F,qBAA1F;AAAA,UAAiH,mBAAjH;AAAA,UAAsI,SAAtI;AAAA,UAAiJ,QAAjJ;AAAA,UAA2J,SAA3J;AAAA,UAAsK,QAAtK;AAAA,UACE,QAAQ,IADV;AAEA,kBAAY,EAAE,WAAF,CAAZ;AACA,wBAAkB,UAAU,IAAV,CAAe,oBAAf,CAAlB;AACA,iBAAW,gBAAgB,UAAhB,EAAX;AACA,kBAAY,gBAAgB,WAAhB,EAAZ;AACA,mBAAa,UAAU,IAAV,CAAe,eAAf,CAAb;AACA,4BAAsB,SAAS,WAAW,GAAX,CAAe,aAAf,CAAT,EAAwC,EAAxC,CAAtB;AACA,8BAAwB,SAAS,WAAW,GAAX,CAAe,eAAf,CAAT,EAA0C,EAA1C,CAAxB;AACA,+BAAyB,SAAS,WAAW,GAAX,CAAe,gBAAf,CAAT,EAA2C,EAA3C,CAAzB;AACA,6BAAuB,SAAS,WAAW,GAAX,CAAe,cAAf,CAAT,EAAyC,EAAzC,CAAvB;AACA,iBAAW,aAAa,oBAAb,GAAoC,qBAA/C;AACA,kBAAY,cAAc,mBAAd,GAAoC,sBAAhD;AACA,UAAI,aAAa,QAAb,IAAyB,cAAc,SAA3C,EAAsD;AACpD,wBAAgB,OAAhB,CAAwB;AACtB,iBAAO,QADe;AAEtB,kBAAQ;AAFc,SAAxB,EAGG,KAAK,OAAL,CAAa,cAHhB,EAGgC,OAHhC;AAID,OALD,MAKO,IAAI,aAAa,QAAjB,EAA2B;AAChC,wBAAgB,OAAhB,CAAwB;AACtB,iBAAO;AADe,SAAxB,EAEG,KAAK,OAAL,CAAa,cAFhB,EAEgC,OAFhC;AAGD,OAJM,MAIA,IAAI,cAAc,SAAlB,EAA6B;AAClC,wBAAgB,OAAhB,CAAwB;AACtB,kBAAQ;AADc,SAAxB,EAEG,KAAK,OAAL,CAAa,cAFhB,EAEgC,OAFhC;AAGD;AACD,iBAAW,YAAW;AACpB,kBAAU,IAAV,CAAe,mBAAf,EAAoC,KAApC,CAA0C,QAA1C;AACA,kBAAU,IAAV,CAAe,cAAf,EAA+B,MAA/B,CAAsC,SAAtC;AACA,kBAAU,IAAV,CAAe,cAAf,EAA+B,MAA/B,CAAsC,SAAtC;AACA,cAAM,SAAN;AACD,OALD,EAKG,KAAK,OAAL,CAAa,cALhB;AAMD,KAlCD;;AAoCA,aAAS,SAAT,CAAmB,SAAnB,GAA+B,YAAW;AACxC,UAAI,SAAJ;AACA,kBAAY,EAAE,WAAF,CAAZ;AACA,gBAAU,IAAV,CAAe,YAAf,EAA6B,IAA7B;AACA,gBAAU,IAAV,CAAe,WAAf,EAA4B,MAA5B,CAAmC,MAAnC;AACA,WAAK,SAAL;AACA,WAAK,aAAL;AACA,WAAK,wBAAL;AACA,WAAK,iBAAL;AACD,KATD;;AAWA,aAAS,SAAT,CAAmB,SAAnB,GAA+B,YAAW;AACxC,UAAI,SAAJ;AACA,kBAAY,EAAE,WAAF,CAAZ;AACA,gBAAU,IAAV,CAAe,SAAf,EAA0B,IAA1B;AACA,UAAI,KAAK,iBAAL,GAAyB,CAA7B,EAAgC,UAAU,IAAV,CAAe,UAAf,EAA2B,IAA3B;AAChC,UAAI,KAAK,iBAAL,GAAyB,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAjD,EAAoD;AAClD,kBAAU,IAAV,CAAe,UAAf,EAA2B,IAA3B;AACD;AACF,KARD;;AAUA,aAAS,SAAT,CAAmB,aAAnB,GAAmC,YAAW;AAC5C,UAAI,SAAJ;AAAA,UACE,QAAQ,IADV;AAEA,kBAAY,EAAE,WAAF,CAAZ;AACA,UAAI,OAAO,KAAK,KAAL,CAAW,KAAK,iBAAhB,EAAmC,KAA1C,KAAoD,WAApD,IAAmE,KAAK,KAAL,CAAW,KAAK,iBAAhB,EAAmC,KAAnC,KAA6C,EAApH,EAAwH;AACtH,kBAAU,IAAV,CAAe,aAAf,EAA8B,IAA9B,CAAmC,KAAK,KAAL,CAAW,KAAK,iBAAhB,EAAmC,KAAtE,EAA6E,MAA7E,CAAoF,MAApF;AACD;AACD,UAAI,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAxB,EAA2B;AACzB,kBAAU,IAAV,CAAe,YAAf,EAA6B,IAA7B,CAAkC,KAAK,OAAL,CAAa,UAAb,GAA0B,GAA1B,IAAiC,KAAK,iBAAL,GAAyB,CAA1D,IAA+D,GAA/D,GAAqE,KAAK,OAAL,CAAa,OAAlF,GAA4F,IAA5F,GAAmG,KAAK,KAAL,CAAW,MAAhJ,EAAwJ,MAAxJ,CAA+J,MAA/J;AACD,OAFD,MAEO;AACL,kBAAU,IAAV,CAAe,YAAf,EAA6B,IAA7B;AACD;AACD,gBAAU,IAAV,CAAe,oBAAf,EAAqC,WAArC,CAAiD,WAAjD;AACA,gBAAU,IAAV,CAAe,mBAAf,EAAoC,MAApC,CAA2C,KAAK,cAAhD,EAAgE,YAAW;AACzE,eAAO,MAAM,WAAN,EAAP;AACD,OAFD;AAGD,KAhBD;;AAkBA,aAAS,SAAT,CAAmB,wBAAnB,GAA8C,YAAW;AACvD,UAAI,WAAJ,EAAiB,WAAjB;AACA,UAAI,KAAK,KAAL,CAAW,MAAX,GAAoB,KAAK,iBAAL,GAAyB,CAAjD,EAAoD;AAClD,sBAAc,IAAI,KAAJ,EAAd;AACA,oBAAY,GAAZ,GAAkB,KAAK,KAAL,CAAW,KAAK,iBAAL,GAAyB,CAApC,EAAuC,IAAzD;AACD;AACD,UAAI,KAAK,iBAAL,GAAyB,CAA7B,EAAgC;AAC9B,sBAAc,IAAI,KAAJ,EAAd;AACA,oBAAY,GAAZ,GAAkB,KAAK,KAAL,CAAW,KAAK,iBAAL,GAAyB,CAApC,EAAuC,IAAzD;AACD;AACF,KAVD;;AAYA,aAAS,SAAT,CAAmB,iBAAnB,GAAuC,YAAW;AAChD,QAAE,QAAF,EAAY,EAAZ,CAAe,gBAAf,EAAiC,EAAE,KAAF,CAAQ,KAAK,cAAb,EAA6B,IAA7B,CAAjC;AACD,KAFD;;AAIA,aAAS,SAAT,CAAmB,kBAAnB,GAAwC,YAAW;AACjD,QAAE,QAAF,EAAY,GAAZ,CAAgB,WAAhB;AACD,KAFD;;AAIA,aAAS,SAAT,CAAmB,cAAnB,GAAoC,UAAS,KAAT,EAAgB;AAClD,UAAI,WAAJ,EAAiB,iBAAjB,EAAoC,kBAApC,EAAwD,GAAxD,EAA6D,OAA7D;AACA,oBAAc,EAAd;AACA,0BAAoB,EAApB;AACA,2BAAqB,EAArB;AACA,gBAAU,MAAM,OAAhB;AACA,YAAM,OAAO,YAAP,CAAoB,OAApB,EAA6B,WAA7B,EAAN;AACA,UAAI,YAAY,WAAZ,IAA2B,IAAI,KAAJ,CAAU,OAAV,CAA/B,EAAmD;AACjD,aAAK,GAAL;AACD,OAFD,MAEO,IAAI,QAAQ,GAAR,IAAe,YAAY,iBAA/B,EAAkD;AACvD,YAAI,KAAK,iBAAL,KAA2B,CAA/B,EAAkC;AAChC,eAAK,WAAL,CAAiB,KAAK,iBAAL,GAAyB,CAA1C;AACD;AACF,OAJM,MAIA,IAAI,QAAQ,GAAR,IAAe,YAAY,kBAA/B,EAAmD;AACxD,YAAI,KAAK,iBAAL,KAA2B,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAnD,EAAsD;AACpD,eAAK,WAAL,CAAiB,KAAK,iBAAL,GAAyB,CAA1C;AACD;AACF;AACF,KAlBD;;AAoBA,aAAS,SAAT,CAAmB,GAAnB,GAAyB,YAAW;AAClC,WAAK,kBAAL;AACA,QAAE,MAAF,EAAU,GAAV,CAAc,QAAd,EAAwB,KAAK,WAA7B;AACA,QAAE,WAAF,EAAe,OAAf,CAAuB,KAAK,OAAL,CAAa,YAApC;AACA,QAAE,kBAAF,EAAsB,OAAtB,CAA8B,KAAK,OAAL,CAAa,YAA3C;AACA,aAAO,EAAE,uBAAF,EAA2B,GAA3B,CAA+B;AACpC,oBAAY;AADwB,OAA/B,CAAP;AAGD,KARD;;AAUA,WAAO,QAAP;AAED,GAxRU,EAAX;;AA0RA,IAAE,YAAW;AACX,QAAI,QAAJ,EAAc,OAAd;AACA,cAAU,IAAI,eAAJ,EAAV;AACA,WAAO,WAAW,IAAI,QAAJ,CAAa,OAAb,CAAlB;AACD,GAJD;AAMD,CApTD,EAoTG,IApTH","file":"lightbox.js","sourcesContent":["\n/*\nLightbox v2.51\nby Lokesh Dhakar - http://www.lokeshdhakar.com\n\nFor more information, visit:\nhttp://lokeshdhakar.com/projects/lightbox2/\n\nLicensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/\n- free for use in both personal and commercial projects\n- attribution requires leaving author name, author link, and the license info intact\n\t\nThanks\n- Scott Upton(uptonic.com), Peter-Paul Koch(quirksmode.com), and Thomas Fuchs(mir.aculo.us) for ideas, libs, and snippets.\n- Artemy Tregubenko (arty.name) for cleanup and help in updating to latest proto-aculous in v2.05.\n\n\nTable of Contents\n=================\nLightboxOptions\n\nLightbox\n- constructor\n- init\n- enable\n- build\n- start\n- changeImage\n- sizeContainer\n- showImage\n- updateNav\n- updateDetails\n- preloadNeigbhoringImages\n- enableKeyboardNav\n- disableKeyboardNav\n- keyboardAction\n- end\n\noptions = new LightboxOptions\nlightbox = new Lightbox options\n*/\n\n(function() {\n  var $, Lightbox, LightboxOptions;\n\n  $ = jQuery;\n\n  LightboxOptions = (function() {\n\n    function LightboxOptions() {\n      this.fileLoadingImage = 'assets/lightbox/loading.gif';\n      this.fileCloseImage = 'assets/lightbox/close.png';\n      this.resizeDuration = 700;\n      this.fadeDuration = 500;\n      this.labelImage = 'Image';\n      this.labelOf = 'of';\n    }\n\n    return LightboxOptions;\n\n  })();\n\n  Lightbox = (function() {\n\n    function Lightbox(options) {\n      this.options = options;\n      this.album = [];\n      this.currentImageIndex = void 0;\n      this.init();\n    }\n\n    Lightbox.prototype.init = function() {\n      this.enable();\n      return this.build();\n    };\n\n    Lightbox.prototype.enable = function() {\n      var _this = this;\n      return $('body').on('click', 'a[rel^=lightbox], area[rel^=lightbox]', function(e) {\n        _this.start($(e.currentTarget));\n        return false;\n      });\n    };\n\n    Lightbox.prototype.build = function() {\n      var $lightbox,\n        _this = this;\n      $('<div>', {\n        id: 'lightboxOverlay'\n      }).after($('<div/>', {\n        id: 'lightbox'\n      }).append($('<div/>', {\n        'class': 'lb-outerContainer'\n      }).append($('<div/>', {\n        'class': 'lb-container'\n      }).append($('<img/>', {\n        'class': 'lb-image'\n      }), $('<div/>', {\n        'class': 'lb-nav'\n      }).append($('<a/>', {\n        'class': 'lb-prev'\n      }), $('<a/>', {\n        'class': 'lb-next'\n      })), $('<div/>', {\n        'class': 'lb-loader'\n      }).append($('<a/>', {\n        'class': 'lb-cancel'\n      }).append($('<img/>', {\n        src: this.options.fileLoadingImage\n      }))))), $('<div/>', {\n        'class': 'lb-dataContainer'\n      }).append($('<div/>', {\n        'class': 'lb-data'\n      }).append($('<div/>', {\n        'class': 'lb-details'\n      }).append($('<span/>', {\n        'class': 'lb-caption'\n      }), $('<span/>', {\n        'class': 'lb-number'\n      })), $('<div/>', {\n        'class': 'lb-closeContainer'\n      }).append($('<a/>', {\n        'class': 'lb-close'\n      }).append($('<img/>', {\n        src: this.options.fileCloseImage\n      }))))))).appendTo($('body'));\n      $('#lightboxOverlay').hide().on('click', function(e) {\n        _this.end();\n        return false;\n      });\n      $lightbox = $('#lightbox');\n      $lightbox.hide().on('click', function(e) {\n        if ($(e.target).attr('id') === 'lightbox') _this.end();\n        return false;\n      });\n      $lightbox.find('.lb-outerContainer').on('click', function(e) {\n        if ($(e.target).attr('id') === 'lightbox') _this.end();\n        return false;\n      });\n      $lightbox.find('.lb-prev').on('click', function(e) {\n        _this.changeImage(_this.currentImageIndex - 1);\n        return false;\n      });\n      $lightbox.find('.lb-next').on('click', function(e) {\n        _this.changeImage(_this.currentImageIndex + 1);\n        return false;\n      });\n      $lightbox.find('.lb-loader, .lb-close').on('click', function(e) {\n        _this.end();\n        return false;\n      });\n    };\n\n    Lightbox.prototype.start = function($link) {\n      var $lightbox, $window, a, i, imageNumber, left, top, _len, _ref;\n      $(window).on('resize', this.sizeOverlay);\n      $('select, object, embed').css({\n        visibility: 'hidden'\n      });\n      $('#lightboxOverlay').width($(document).width()).height($(document).height()).fadeIn(this.options.fadeDuration);\n      this.album = [];\n      imageNumber = 0;\n      if ($link.attr('rel') === 'lightbox') {\n        this.album.push({\n          link: $link.attr('href'),\n          title: $link.attr('title')\n        });\n      } else {\n        _ref = $($link.prop('tagName') + '[rel=\"' + $link.attr('rel') + '\"]');\n        for (i = 0, _len = _ref.length; i < _len; i++) {\n          a = _ref[i];\n          this.album.push({\n            link: $(a).attr('href'),\n            title: $(a).attr('title')\n          });\n          if ($(a).attr('href') === $link.attr('href')) imageNumber = i;\n        }\n      }\n      $window = $(window);\n      top = $window.scrollTop() + $window.height() / 10;\n      left = $window.scrollLeft();\n      $lightbox = $('#lightbox');\n      $lightbox.css({\n        top: top + 'px',\n        left: left + 'px'\n      }).fadeIn(this.options.fadeDuration);\n      this.changeImage(imageNumber);\n    };\n\n    Lightbox.prototype.changeImage = function(imageNumber) {\n      var $image, $lightbox, preloader,\n        _this = this;\n      this.disableKeyboardNav();\n      $lightbox = $('#lightbox');\n      $image = $lightbox.find('.lb-image');\n      this.sizeOverlay();\n      $('#lightboxOverlay').fadeIn(this.options.fadeDuration);\n      $('.loader').fadeIn('slow');\n      $lightbox.find('.lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption').hide();\n      $lightbox.find('.lb-outerContainer').addClass('animating');\n      preloader = new Image;\n      preloader.onload = function() {\n        $image.attr('src', _this.album[imageNumber].link);\n        $image.width = preloader.width;\n        $image.height = preloader.height;\n        return _this.sizeContainer(preloader.width, preloader.height);\n      };\n      preloader.src = this.album[imageNumber].link;\n      this.currentImageIndex = imageNumber;\n    };\n\n    Lightbox.prototype.sizeOverlay = function() {\n      return $('#lightboxOverlay').width($(document).width()).height($(document).height());\n    };\n\n    Lightbox.prototype.sizeContainer = function(imageWidth, imageHeight) {\n      var $container, $lightbox, $outerContainer, containerBottomPadding, containerLeftPadding, containerRightPadding, containerTopPadding, newHeight, newWidth, oldHeight, oldWidth,\n        _this = this;\n      $lightbox = $('#lightbox');\n      $outerContainer = $lightbox.find('.lb-outerContainer');\n      oldWidth = $outerContainer.outerWidth();\n      oldHeight = $outerContainer.outerHeight();\n      $container = $lightbox.find('.lb-container');\n      containerTopPadding = parseInt($container.css('padding-top'), 10);\n      containerRightPadding = parseInt($container.css('padding-right'), 10);\n      containerBottomPadding = parseInt($container.css('padding-bottom'), 10);\n      containerLeftPadding = parseInt($container.css('padding-left'), 10);\n      newWidth = imageWidth + containerLeftPadding + containerRightPadding;\n      newHeight = imageHeight + containerTopPadding + containerBottomPadding;\n      if (newWidth !== oldWidth && newHeight !== oldHeight) {\n        $outerContainer.animate({\n          width: newWidth,\n          height: newHeight\n        }, this.options.resizeDuration, 'swing');\n      } else if (newWidth !== oldWidth) {\n        $outerContainer.animate({\n          width: newWidth\n        }, this.options.resizeDuration, 'swing');\n      } else if (newHeight !== oldHeight) {\n        $outerContainer.animate({\n          height: newHeight\n        }, this.options.resizeDuration, 'swing');\n      }\n      setTimeout(function() {\n        $lightbox.find('.lb-dataContainer').width(newWidth);\n        $lightbox.find('.lb-prevLink').height(newHeight);\n        $lightbox.find('.lb-nextLink').height(newHeight);\n        _this.showImage();\n      }, this.options.resizeDuration);\n    };\n\n    Lightbox.prototype.showImage = function() {\n      var $lightbox;\n      $lightbox = $('#lightbox');\n      $lightbox.find('.lb-loader').hide();\n      $lightbox.find('.lb-image').fadeIn('slow');\n      this.updateNav();\n      this.updateDetails();\n      this.preloadNeighboringImages();\n      this.enableKeyboardNav();\n    };\n\n    Lightbox.prototype.updateNav = function() {\n      var $lightbox;\n      $lightbox = $('#lightbox');\n      $lightbox.find('.lb-nav').show();\n      if (this.currentImageIndex > 0) $lightbox.find('.lb-prev').show();\n      if (this.currentImageIndex < this.album.length - 1) {\n        $lightbox.find('.lb-next').show();\n      }\n    };\n\n    Lightbox.prototype.updateDetails = function() {\n      var $lightbox,\n        _this = this;\n      $lightbox = $('#lightbox');\n      if (typeof this.album[this.currentImageIndex].title !== 'undefined' && this.album[this.currentImageIndex].title !== '') {\n        $lightbox.find('.lb-caption').html(this.album[this.currentImageIndex].title).fadeIn('fast');\n      }\n      if (this.album.length > 1) {\n        $lightbox.find('.lb-number').html(this.options.labelImage + ' ' + (this.currentImageIndex + 1) + ' ' + this.options.labelOf + '  ' + this.album.length).fadeIn('fast');\n      } else {\n        $lightbox.find('.lb-number').hide();\n      }\n      $lightbox.find('.lb-outerContainer').removeClass('animating');\n      $lightbox.find('.lb-dataContainer').fadeIn(this.resizeDuration, function() {\n        return _this.sizeOverlay();\n      });\n    };\n\n    Lightbox.prototype.preloadNeighboringImages = function() {\n      var preloadNext, preloadPrev;\n      if (this.album.length > this.currentImageIndex + 1) {\n        preloadNext = new Image;\n        preloadNext.src = this.album[this.currentImageIndex + 1].link;\n      }\n      if (this.currentImageIndex > 0) {\n        preloadPrev = new Image;\n        preloadPrev.src = this.album[this.currentImageIndex - 1].link;\n      }\n    };\n\n    Lightbox.prototype.enableKeyboardNav = function() {\n      $(document).on('keyup.keyboard', $.proxy(this.keyboardAction, this));\n    };\n\n    Lightbox.prototype.disableKeyboardNav = function() {\n      $(document).off('.keyboard');\n    };\n\n    Lightbox.prototype.keyboardAction = function(event) {\n      var KEYCODE_ESC, KEYCODE_LEFTARROW, KEYCODE_RIGHTARROW, key, keycode;\n      KEYCODE_ESC = 27;\n      KEYCODE_LEFTARROW = 37;\n      KEYCODE_RIGHTARROW = 39;\n      keycode = event.keyCode;\n      key = String.fromCharCode(keycode).toLowerCase();\n      if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\n        this.end();\n      } else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\n        if (this.currentImageIndex !== 0) {\n          this.changeImage(this.currentImageIndex - 1);\n        }\n      } else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\n        if (this.currentImageIndex !== this.album.length - 1) {\n          this.changeImage(this.currentImageIndex + 1);\n        }\n      }\n    };\n\n    Lightbox.prototype.end = function() {\n      this.disableKeyboardNav();\n      $(window).off('resize', this.sizeOverlay);\n      $('#lightbox').fadeOut(this.options.fadeDuration);\n      $('#lightboxOverlay').fadeOut(this.options.fadeDuration);\n      return $('select, object, embed').css({\n        visibility: 'visible'\n      });\n    };\n\n    return Lightbox;\n\n  })();\n\n  $(function() {\n    var lightbox, options;\n    options = new LightboxOptions;\n    return lightbox = new Lightbox(options);\n  });\n\n}).call(this);\n"],"sourceRoot":"/source/"}